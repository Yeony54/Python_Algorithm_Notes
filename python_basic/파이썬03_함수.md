#####  Python Function (함수)

##  Function 

함수의 개요와 설명



---



##### 00. function이란

함수는 자주 사용되는 기능을 하나의 코드블럭(함수)으로 작성한 후 함수이름으로 호출해서 기능을 사용하도록 하는것이다.





---



##### 01. 내장함수와 사용자 정의함수

Python의 함수에는 크게 두종류가 있다.

**내장함수**와 **사용자 정의함수** 이다.



내장함수는 Python에 이미 만들어져 있는 함수를 뜻한다.

앞서 사용해 보았던 `print(), type(), id(), len()` 등이 여기에 속한다.

사용자 정의함수(user define function)는 말 그대로 사용자가 직접 함수를 만들어 사용하는 방법을 말한다.



---



##### 02. 함수를 만드는 기본적인 방법

a와 b를 입력했을때 이것들의 합을 내어주는 함수를 만들어보자



함수명을 지을때에도 변수명과 같이 약간의 규칙이 있다.

- python의 키워드를 함수명으로 사용하지 않는다.
- 한글로 짓지 않는다
- 숫자로 시작하지 않는다.
- 여러단어로 구성될 경우 `_`를 사용하여 연결해 준다
- 일반적으로 소문자로 구성된다.



**<function 생성 예제>**

```python
def my_sum(a, b):    
    result = a + b
    return result
```

위의 코드를 보면 우선, `def`를 사용하여 함수의 정의를 시작한다.

그리고 함수명 뒤에 괄호를 쳐 함수를 호출할 때 전달받을 인자(parameter)를 만들어준다. 이를 형식인자 라고 부른다.

코드를 작성하고, 이 코드가 실행한 후 결과물을 return으로 되돌려준다.

이렇게 만든 코드를 호출해 보자



**<function 호출 예제>**

```python
a = my_sum(10,20)
print(a)                  # 결과 30
```

function을 호출하게되면 메모리에 많은 일이 일어난다.

인자로 전달되는 `10, 20`을 실인자라고 부른다.

> **자료구조설명**
>
> def로 선언되어진 `my_sum` 함수가 `<class function>`의 객체로 만들어져 함수의 코드가 저장된다.
>
> `my_sum`, `a`를 위한 메모리 공간이 만들어진다.
>
> my_sum의 공간에는 앞서 만들어진 객체의 reference가 저장된다.
>
> 함수를 위해 stack의 공간을 마련하여 인자를 저장할 공간을 마련하여 전달된 인자를 저장한다.
>
> 함수를 실행하고 result에 결과를 저장한다.
>
> 함수가 끝나고 저장된 result를 a의 reference 객체에 저장해준다.

(function까지 자료구조 설명을 하니 너무어렵다)





---



##### 03. 인자의 개수제한이 상관없는 함수 만들기

함수를 만들 때에는 받을 인자를 정해주어야 한다.

그런데 인자를 tuple로 받을 시에는 받을 인자의 개수를 정해주지 않아도 된다.



**<function 예제>**

```python
def my_sum(*args):
    result = 0
    for tmp in args:
        result += tmp   # result = result + tmp
    return result

print(my_sum(10,20,30,40,50))
```

위의 예제처럼 사용한다면, `*args`를 통해 함수로 전달되는 인자를 tuple로 받게되면, `args`는 `(10, 20, 30, 40, 50)`이 되어 튜플의 인자들의 합을 구할 수 있게 된다.





---





##### 04. 함수에서 여러개의 result 리턴하기

함수는 return명령을 받을 시 함수에서 벗어나 다시 코드로 돌아오게 된다.

그럼 여러개의 결과를 받을 수는 없을까?

return을 tuple로 해주게 되면 가능하다.



**<function 예제>**

```python
def my_sum(a,b):
    result1 = a + b
    result2 = a * b
    return result1, result2

aa, bb = my_sum(10,20)
```

tuple은 괄호를 생략할 수 있기 때문에 이런 코드를 작성할 수 있다.





---





##### 05. Default parameter 작성하기

함수를 작성할때 default parameter를 작성하게되면, 그 인자는 입력해 주지않아도 초기 설정된 값으로 수행을 할 수 있다.

주의사항으로 default parameter은 일반 parameter와 섞여 있으면 안되고 맨 뒤로 정렬되어 있어야 한다.



**<default parameter 예시>**

```python
def my_sum(a,b,c=100):
    return a+b+c
print(my_sum(1,2))       #103
print(my_sum(1,2,3))     #6
```

위의 예시를 실행하였을때, 두번째 출력이 세번째 인자를 주지 않았음에도 default paramer의 값으로 계산된 것을 확인 할 수 있다.





----





##### 06. mutable(가변의), immutable(불변의)

immutable은 call-by-value, mutable은 call-by-reference 로 불린다.

이것을 이해하려면 앞에서 말했던 자료구조에 대한 이해도가 필요하다.

call-by-value는 값만을 인자로 입력했기 때문에 함수 내에서 바꿔도 원래 변수에서는 바뀌지 않는다.

call-by-reference는 값을 향한 reference를 인자로 입력했기 때문에, 함수에서 reference를 통해 직접적으로 데이터를 조작할 수 있고, 원래 변수에서도 바뀐 결과를 확인할 수 있게 된다.



**<mutable, immutable 예제>** 

```python
def my_sum(tmp_number, tmp_list):
    tmp_number += 100
    tmp_list.append(100)
    
data_x = 10
data_list = [10]

print(data_x, data_list)   # 10 [10]

my_sum(data_x, data_list)  # 함수호출

print(data_x, data_list)   # 10 [10, 100]
```

`my_sum()`함수는 인자를 입력받아 첫번째 인자에는 100을 더하고 두번째 인자에는 리스트를 입력받아 100을 추가해주는 동작을 수행한다.

`my_sum(data_x, data_list)`를 보게되면 `data_x`로는 10을, `data_list`로는 [10] 을 입력한 것을 볼 수 있다.

함수 호출 전에는 10과 [10]이 출력되었으며, 

함수 호출 후에는 10과 [10, 10]이 출력되었다.



(동작방법은 아직 잘 모르겠다. 이후 추가하도록하겠음)





---





##### 07. Local variable & Global variable

scope란 식별자를 찾을 수 있는 영역을 말한다.

```python
tmp = 100    # memory영역에 존재

def my_func(x):     # stack안에서 실행
    tmp = tmp + x   # tmp를 찾을 수 없어요. 
    return tmp

print(my_func(10))
```

위의예제의 결과는 에러가 난다.

제일 처음선언된 `tmp`는 함수 정의의 바깥에 있다. 함수 내에서는 tmp를 찾을 수 없기 때문이다.

```python
tmp = 100

def my_func(x):
    global tmp
    tmp = tmp + x  
    return tmp

print(my_func(10))  # 110
```

이렇게 global 변수로 tmp를 함수안에 선언해 주면 바깥의 tmp를 인식할 수 있게 된다.

global keyword를 사용하면 외부 영역에 있는 변수를 사용할 수 있지만, 남용하면 안되는 방법이니 주의하자.

